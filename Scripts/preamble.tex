% !TEX TS-program = xelatex
% !TEX encoding = UTF-8 Unicode

% Language and font management
\usepackage{babel}  % Multi-language support
\usepackage{fontspec}  % Font management
\usepackage{microtype}  % For better typography

% Page layout and geometry
\usepackage{geometry}
\geometry{left=1in, right=1in, top=1in, bottom=1in}

% Line spacing and titles
\usepackage{setspace}
\onehalfspacing  % Use one-and-a-half line spacing
\usepackage{titlesec}  % Title formatting
\titleformat{\section}[block]{\Large\bfseries\centering}{\thesection}{1em}{}

% Header and footer setup
\usepackage{fancyhdr}
\pagestyle{fancy}
\setlength{\headheight}{15pt}
\fancyhead[L]{}  % Left header (empty)
\fancyhead[C]{Template RMarkdown File}  % Centered header
\fancyhead[R]{}  % Right header (empty)
\fancyfoot[L]{}  % Left footer (empty)
\fancyfoot[C]{\thepage}  % Centered page number
\fancyfoot[R]{}  % Right footer (empty)

% Math and symbols
\usepackage{amsmath}  % For math support
\usepackage{amssymb}  % For extra math symbols

% Hyperlink and references setup
\definecolor{urbnblue}{HTML}{1696D2}    % Defines the blue color
\usepackage{hyperref}  % Hyperlinks and references
\hypersetup{
  colorlinks,
  linkcolor=urbnblue,
  urlcolor=urbnblue,
}

% Listings for code formatting (R code)
\usepackage{listings}
\usepackage{xcolor}  % For color customization
\lstdefinestyle{RStyle}{
  language=R,                         % Set the language to R
  basicstyle=\small\ttfamily,          % Use small size and monospaced font
  backgroundcolor=\color{white},      % Set background color
  showspaces=false,                   % Do not display spaces with underscores
  showstringspaces=false,             % Do not underline spaces in strings
  showtabs=false,                     % Do not display tabs with arrows
  tabsize=2,                          % Set tab size to 2 spaces
  breaklines=true,                    % Enable line breaking
  breakatwhitespace=false,            % Break lines at whitespace
  commentstyle=\color{urbnblue},          % Style for comments
  keywordstyle=\color{black},          % Style for keywords
  stringstyle=\color{black}           % Style for strings
}
\lstset{style=RStyle}

% Fancy verbatim (improve code formatting)
\usepackage{fancyvrb}
\usepackage{fvextra}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{
    breaklines=true,
    breakanywhere=true,
    commandchars=\\\{\},
    fontsize=\small
}

% Adding line breaks to hash environment
\usepackage{seqsplit}
\renewcommand{\texttt}[1]{{\ttfamily\seqsplit{#1}}}

% Tables and long tables
\usepackage{booktabs}  % For professional-looking tables
\usepackage{longtable}  % For tables that span multiple pages

% Table and figure formatting for Urban Institute style
\usepackage{array}
\usepackage{multirow}
\usepackage{color}          % Enables font colors
\usepackage{wrapfig}
\usepackage{float}
\usepackage{colortbl}
\usepackage{pdflscape}
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage[normalem]{ulem}
\usepackage[export]{adjustbox}  % Enables two column images at the top
\usepackage{makecell}           % For library(kableExtra)

% Font encoding and external libraries
\usepackage[utf8]{inputenc}   % Sets document encoding to UTF-8
\usepackage[default]{lato}    % Sets default font to Lato
\usepackage[T1]{fontenc}
\usepackage{tikz}
\usetikzlibrary{calc}
\usepackage{memhfixc}
\usepackage{amssymb}          % For itemized list styles

% Color definitions and document setup
\usepackage{enumitem}                   % Bullet alignment
\setlist[2]{nosep}                      % Sets the itemsep and parsep for all level two lists to 0
\setenumerate{nosep}                    % Sets no itemsep for enumerate lists only
\pagenumbering{gobble}                  % Disable page numbering
\usepackage[hang,flushmargin]{footmisc} % Don't indent footnotes
\usepackage[document]{ragged2e}         % Ragged right
\usepackage[none]{hyphenat}             % Disable word breaks
\renewcommand\thefootnote{\textcolor{urbnblue}{\arabic{footnote}}} % Change the color of the footnote indicator

