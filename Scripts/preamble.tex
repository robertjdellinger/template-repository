% !TEX TS-program = xelatex
% !TEX encoding = UTF-8 Unicode

\usepackage{babel}   % multi-language support
\usepackage{float}   % floats
\usepackage{url}     % urls


\usepackage{geometry}
\geometry{left=1in, right=1in, top=1in, bottom=1in}

\usepackage{setspace}
\onehalfspacing

\usepackage{titlesec}
\titleformat{\section}[block]{\Large\bfseries\centering}{\thesection}{1em}{}

\usepackage{fontspec}  % Font management with fontspec
\usepackage{microtype}  % For better typography

\usepackage{fancyhdr}
\pagestyle{fancy}
\setlength{\headheight}{15pt}
\fancyhead[L]{}  % Left header (empty)
\fancyhead[C]{Template RMarkdown File}  % Centered header
\fancyhead[R]{}  % Right header (empty)
\fancyfoot[L]{}  % Left footer (empty)
\fancyfoot[C]{\thepage}  % Centered page number
\fancyfoot[R]{}  % Right footer (empty)

\usepackage{amsmath}  % For math support
\usepackage{amssymb}  % For extra math symbols

\usepackage{hyperref}  % Hyperlinks and references


% Adding line breaks to the Verbatim environment
\usepackage{listings} 
\let\verbatim\undefined 
\let\verbatimend\undefined 
\lstdefinestyle{RStyle}{
  language=R,                         % Set the language to R
  basicstyle=\small\ttfamily,          % Use small size and monospaced font
  backgroundcolor=\color{white},      % Set background color
  showspaces=false,                   % Do not display spaces with underscores
  showstringspaces=false,             % Do not underline spaces in strings
  showtabs=false,                    % Do not display tabs with arrows
  tabsize=2,                         % Set tab size to 2 spaces
  breaklines=true,                   % Enable line breaking
  breakatwhitespace=false,           % Break lines at whitespace
  commentstyle=\color{blue},        % Style for comments
  keywordstyle=\color{pink},         % Style for keywords
  stringstyle=\color{black}            % Style for strings
}
\lstset{style=RStyle}

% Adding line breaks the Highlight environment:
\usepackage{fancyvrb}
\usepackage{fvextra} 
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{
    breaklines=true,
    breakanywhere=true,
    commandchars=\\\{\},
    fontsize=\small
  }

% Adding line breaks to the hash environment
\usepackage{seqsplit}
\renewcommand{\texttt}[1]{{\ttfamily\seqsplit{#1}}}


\usepackage{booktabs}
\usepackage{longtable}

\ifxetex
  \usepackage{letltxmacro}
  \setlength{\XeTeXLinkMargin}{1pt}
  \LetLtxMacro\SavedIncludeGraphics\includegraphics
  \def\includegraphics#1#{% #1 catches optional stuff (star/opt. arg.)
    \IncludeGraphicsAux{#1}%
  }%
  \newcommand*{\IncludeGraphicsAux}[2]{%
    \XeTeXLinkBox{%
      \SavedIncludeGraphics#1{#2}%
    }%
  }%
\fi